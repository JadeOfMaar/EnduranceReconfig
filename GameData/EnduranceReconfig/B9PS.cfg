// - - - Main Parts - - -

// EC-215 Logistics Module
@PART[ENcargoEndurance]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENmix
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 500
	}
}
// EC-200b Command Module
@PART[ENcommandEndurance]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENmix
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 120
	}
}
// EC-200 Crew Cabin
@PART[ENhabEndurance]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENsupp
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 800
	}
}
// DSPS x300 Fuel Assembly
@PART[ENmountEndurance]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENfuel
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 3200
	}
}
// EC-151 Structural Ring
@PART[ENringEndurance]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENsupp
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 800
	}
}
// MB-25 Freight Transport Module
@PART[ENcargoContainer]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENmix
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 1600
	}
}
// MB-2 Habitat Assessment Unit
@PART[ENdeployableHabitat]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENfuel
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 75
	}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENsupp
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 75
	}
}

// - - - - - - -

// Ranger
@PART[ENrangerBody]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENfuel
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 2000
	}
}
// Lander
@PART[ENlanderBody]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENfuel
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 2800
	}
}
// Mini-Ranger / Viper
@PART[ENminiRanger]:NEEDS[B9PartSwitch,!ClassicStock]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = ENfuel
		switcherDescription = Tank
		switcherDescriptionPlural = Tank Selections
		switchInFlight = True
		baseVolume = 600
	}
}

// - - - Add tank types - - -

B9_TANK_TYPE:NEEDS[!CryoTanks]
{
	name = OX
	tankMass = 0.000625
	tankCost = 0
	RESOURCE
	{
		name = Oxidizer
		unitsPerVolume = 1
	}
}

// - - - Assign subtypes - - -

@PART[ENhabEndurance|ENcargoEndurance]:NEEDS[B9PartSwitch,!ClassicStock]
{
	@MODULE[ModuleB9PartSwitch]
	{
		SUBTYPE
		{
			name = BATT
			tankType = Battery
			title = ElectricCharge
			switchInFlight = False
			descriptionSummary = <color="orange">Cannot change back to this after launch</color>
		}
	}
}

// Stuff
@PART:HAS[#manufacturer[Brand?Aerospace?Engineering],@MODULE[ModuleB9PartSwitch]]:NEEDS[B9PartSwitch,!ClassicStock]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[ENfuel]]
	{
		SUBTYPE
		{
			name = Structural
			title = Structural
		}
		SUBTYPE
		{
			name = LFO
			tankType = LFO
			title = LF + Ox
		}
		SUBTYPE
		{
			name = LF
			tankType = LiquidFuel
			title = LiquidFuel
		}
		SUBTYPE
		{
			name = OX
			tankType = OX
			title = Oxidizer
		}
		SUBTYPE
		{
			name = MO
			tankType = MonoPropellant
			title = MonoPropellant
		}
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[ENsupp]]
	{
		SUBTYPE
		{
			name = Structural
			title = Structural
		}
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[ENmix]]
	{
		SUBTYPE
		{
			name = Structural
			title = Structural
		}
		SUBTYPE
		{
			name = LFO
			tankType = LFO
			title = LF + Ox
		}
		SUBTYPE
		{
			name = LF
			tankType = LiquidFuel
			title = LiquidFuel
		}
		SUBTYPE
		{
			name = OX
			tankType = OX
			title = Oxidizer
		}
		SUBTYPE
		{
			name = MO
			tankType = MonoPropellant
			title = MonoPropellant
		}
	}
}
